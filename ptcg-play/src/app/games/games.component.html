<ptcg-sidebar-container>
  <!-- <div class="news-banner" routerLink="/news">
    <mat-toolbar color="accent">
      <mat-icon>announcement</mat-icon>
      <span class="latest-news">Latest News</span>
      <span class="ptcg-u-spacer"></span>
      <mat-icon>chevron_right</mat-icon>
    </mat-toolbar>
  </div> -->
  <ptcg-sidebar>
    <mat-nav-list>
      <a mat-list-item *ngFor="let client of (clients$ | async)" class="ptcg-no-padding-list-item"
        [matMenuTriggerFor]="menu">
        <ptcg-user-bar [user]="client.user" [marked]="clientId === client.clientId" [openUserPopup]="false">
        </ptcg-user-bar>
        <mat-menu #menu="matMenu">
          <button mat-menu-item [routerLink]="['/profile', client.user.userId]">
            {{ 'BUTTON_SHOW_PROFILE' | translate }}
          </button>
          <button mat-menu-item *ngIf="clientId !== client.clientId" [disabled]="loading"
            (click)="createGame(client.clientId)">
            {{ 'BUTTON_INVITE' | translate }}
          </button>
          <button mat-menu-item *ngIf="loggedUserId !== client.user.userId"
            [routerLink]="['/message', client.user.userId]">
            {{ 'BUTTON_SEND_MESSAGE' | translate }}
          </button>
          <button mat-menu-item *ngIf="(isAdmin$ | async) && (loggedUserId !== client.user.userId)"
            [style.color]="client.user.roleId === 1 ? '' : '#FF0000'" (click)="banUser(client.user.userId)">
            {{ client.user.roleId === 1 ? ('PROFILE_UNBAN_USER' | translate) : ('PROFILE_BAN_USER' | translate) }}
          </button>
        </mat-menu>
      </a>
    </mat-nav-list>
  </ptcg-sidebar>

  <div class="main-container">
    <!-- Slanted Top Section with Artwork -->
    <div class="slanted-artwork-section">
      <div class="pokemon-artwork-bg"></div>
      <div class="slanted-overlay"></div>
    </div>

    <!-- Main Content Area -->
    <div class="content-area">
      <!-- Matchmaking Interface (deck card will be positioned to overlap slanted area) -->
      <div class="matchmaking-section">
        <ptcg-matchmaking-lobby></ptcg-matchmaking-lobby>
      </div>

      <!-- Main Action Button -->
      <!-- <div class="action-button-container">
        <button class="start-matchmaking-button" [class.in-queue]="matchmakingLobby?.inQueue"
          [disabled]="loading || (!matchmakingLobby?.deckId && !matchmakingLobby?.inQueue)"
          (click)="onMainPlayButtonClick()">
          <mat-spinner *ngIf="loading || matchmakingLobby?.loading" diameter="20"
            style="display: inline-block; margin-right: 10px;"></mat-spinner>
          <span class="button-text">
            {{ matchmakingLobby?.inQueue ? 'STOP MATCHMAKING' : 'START MATCHMAKING' }}
          </span>
        </button>
      </div> -->
    </div>

    <!-- Hidden sections - commented out for now -->
    <!-- 
    <div class="ptcg-active-games">
      <ptcg-games-table></ptcg-games-table>
    </div>

    <div class="ptcg-recent-matches">
      <ptcg-match-table></ptcg-match-table>
    </div>
    -->
  </div>
</ptcg-sidebar-container>